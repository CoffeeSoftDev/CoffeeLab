<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual del Programador - CoffeeSoft Framework</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        
        .header {
            background: linear-gradient(135deg, #6B4E3D, #8B6F47, #D4A574);
            color: white;
            padding: 40px;
            text-align: center;
            margin: -20px -20px 40px -20px;
            border-radius: 10px 10px 0 0;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="%23ffffff" opacity="0.1"/><circle cx="80" cy="80" r="2" fill="%23ffffff" opacity="0.1"/><circle cx="40" cy="60" r="1" fill="%23ffffff" opacity="0.2"/></svg>') repeat;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .nav-menu {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            position: sticky;
            top: 20px;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .nav-menu ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .nav-menu li {
            background: linear-gradient(135deg, #6B4E3D, #8B6F47);
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .nav-menu li:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(107, 78, 61, 0.3);
        }
        
        .nav-menu a {
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            display: block;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-menu a:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .section {
            margin-bottom: 50px;
            padding: 30px;
            border-left: 5px solid #6B4E3D;
            background: linear-gradient(135deg, #fafafa, #f0f0f0);
            border-radius: 0 10px 10px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        h2 {
            color: #6B4E3D;
            border-bottom: 3px solid #6B4E3D;
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-size: 2.2em;
        }
        
        h3 {
            color: #8B6F47;
            margin: 30px 0 15px 0;
            font-size: 1.5em;
            border-left: 4px solid #D4A574;
            padding-left: 15px;
        }
        
        h4 {
            color: #6B4E3D;
            margin: 20px 0 10px 0;
            font-size: 1.2em;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Fira Code', 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: 10px;
            right: 15px;
            background: #4a5568;
            color: #e2e8f0;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .warning {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #ff6b35;
        }
        
        .info {
            background: linear-gradient(135deg, #d1ecf1, #bee5eb);
            border: 1px solid #17a2b8;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #007bff;
        }
        
        .success {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border: 1px solid #28a745;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #28a745;
        }
        
        .tip {
            background: linear-gradient(135deg, #e7f3ff, #cce7ff);
            border: 1px solid #0066cc;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #0066cc;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #6B4E3D, #8B6F47);
            color: white;
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        tr:hover {
            background-color: #e9ecef;
        }
        
        .card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #ff9800;
            margin: 15px 0;
        }
        
        .step {
            background: white;
            border: 2px solid #6B4E3D;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
        }
        
        .step::before {
            content: counter(step-counter);
            counter-increment: step-counter;
            position: absolute;
            top: -15px;
            left: 20px;
            background: #6B4E3D;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .steps {
            counter-reset: step-counter;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header {
                padding: 20px;
                margin: -10px -10px 20px -10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav-menu ul {
                grid-template-columns: 1fr;
            }
            
            .section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><span class="emoji">‚òï</span>Manual del Programador CoffeeSoft</h1>
            <p>Gu√≠a completa de desarrollo para el framework CoffeeSoft</p>
        </div>

        <nav class="nav-menu">
            <ul>
                <li><a href="#introduccion">üöÄ Introducci√≥n</a></li>
                <li><a href="#arquitectura">üèóÔ∏è Arquitectura MVC</a></li>
                <li><a href="#estructura">üìÅ Estructura de Proyecto</a></li>
                <li><a href="#frontend">üíª Frontend (JavaScript)</a></li>
                <li><a href="#backend">‚öôÔ∏è Backend (PHP)</a></li>
                <li><a href="#componentes">üß© Componentes</a></li>
                <li><a href="#crud">üìä Operaciones CRUD</a></li>
                <li><a href="#mejores-practicas">‚ú® Mejores Pr√°cticas</a></li>
                <li><a href="#ejemplos">üìù Ejemplos Pr√°cticos</a></li>
                <li><a href="#troubleshooting">üîß Soluci√≥n de Problemas</a></li>
            </ul>
        </nav>

        <section id="introduccion" class="section">
            <h2><span class="emoji">üöÄ</span>1. Introducci√≥n al Framework CoffeeSoft</h2>
            
            <div class="card">
                <h3>¬øQu√© es CoffeeSoft?</h3>
                <p>CoffeeSoft es un framework de desarrollo web que implementa el patr√≥n arquitect√≥nico <strong>Modelo-Vista-Controlador (MVC)</strong> para crear aplicaciones web robustas y escalables. Est√° dise√±ado para facilitar el desarrollo r√°pido de sistemas empresariales con una estructura clara y mantenible.</p>
            </div>

            <div class="grid">
                <div class="card">
                    <h4><span class="emoji">üéØ</span>Caracter√≠sticas Principales</h4>
                    <ul>
                        <li><strong>Arquitectura MVC:</strong> Separaci√≥n clara de responsabilidades</li>
                        <li><strong>Sistema CRUD:</strong> Operaciones de base de datos simplificadas</li>
                        <li><strong>Componentes Reutilizables:</strong> Biblioteca de componentes UI</li>
                        <li><strong>Validaciones Autom√°ticas:</strong> Sistema de validaci√≥n integrado</li>
                        <li><strong>Gesti√≥n de Sesiones:</strong> Control de acceso y permisos</li>
                        <li><strong>Responsive Design:</strong> Compatible con Tailwind CSS</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üõ†Ô∏è</span>Tecnolog√≠as Utilizadas</h4>
                    <ul>
                        <li><strong>Backend:</strong> PHP 7.4+</li>
                        <li><strong>Frontend:</strong> JavaScript ES6+, jQuery</li>
                        <li><strong>Base de Datos:</strong> MySQL/MariaDB</li>
                        <li><strong>CSS Framework:</strong> Tailwind CSS</li>
                        <li><strong>Componentes UI:</strong> Bootstrap 5, SweetAlert2</li>
                        <li><strong>Herramientas:</strong> DataTables, Select2, DatePicker</li>
                    </ul>
                </div>
            </div>

            <div class="tip">
                <h4><span class="emoji">üí°</span>Filosof√≠a de Desarrollo</h4>
                <p>CoffeeSoft sigue el principio <strong>"Convenci√≥n sobre Configuraci√≥n"</strong>, lo que significa que el framework proporciona configuraciones predeterminadas sensatas que reducen la cantidad de decisiones que los desarrolladores necesitan tomar, sin perder flexibilidad.</p>
            </div>
        </section>

        <section id="arquitectura" class="section">
            <h2><span class="emoji">üèóÔ∏è</span>2. Arquitectura MVC</h2>
            
            <div class="info">
                <h3>Patr√≥n Modelo-Vista-Controlador</h3>
                <p>CoffeeSoft implementa una arquitectura MVC estricta que separa la l√≥gica de negocio, la presentaci√≥n y el control de flujo en componentes independientes.</p>
            </div>

            <div class="grid">
                <div class="card">
                    <h4><span class="emoji">üìä</span>Modelo (Model)</h4>
                    <p><strong>Responsabilidad:</strong> Gesti√≥n de datos y l√≥gica de negocio</p>
                    <ul>
                        <li>Interacci√≥n con la base de datos</li>
                        <li>Validaci√≥n de datos</li>
                        <li>Reglas de negocio</li>
                        <li>Operaciones CRUD</li>
                    </ul>
                    <div class="code-block" data-lang="PHP">
class mdl extends CRUD {
    public $bd;
    public $util;
    
    public function __construct() {
        parent::__construct();
        $this->bd = $this->_bd;
        $this->util = new Utileria();
    }
    
    public function getUsers() {
        return $this->_Select([
            'table' => "{$this->bd}users",
            'values' => 'id, name, email, status'
        ]);
    }
}
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üéÆ</span>Controlador (Controller)</h4>
                    <p><strong>Responsabilidad:</strong> L√≥gica de control y coordinaci√≥n</p>
                    <ul>
                        <li>Procesamiento de solicitudes</li>
                        <li>Coordinaci√≥n entre Modelo y Vista</li>
                        <li>Validaci√≥n de entrada</li>
                        <li>Respuestas JSON</li>
                    </ul>
                    <div class="code-block" data-lang="PHP">
class ctrl extends mdl {
    public function list() {
        $data = $this->getUsers();
        $rows = [];
        
        foreach($data as $row) {
            $rows[] = [
                $row['id'],
                $row['name'],
                $row['email'],
                $this->getStatus($row['status']),
                $this->dropdown($row['id'])
            ];
        }
        
        return ['data' => $rows];
    }
}
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üëÅÔ∏è</span>Vista (View)</h4>
                    <p><strong>Responsabilidad:</strong> Presentaci√≥n e interacci√≥n del usuario</p>
                    <ul>
                        <li>Interfaz de usuario</li>
                        <li>Eventos y interacciones</li>
                        <li>Comunicaci√≥n con el controlador</li>
                        <li>Renderizado din√°mico</li>
                    </ul>
                    <div class="code-block" data-lang="JavaScript">
class App extends Template {
    constructor(api, root) {
        super();
        this.api = api;
        this.root = root;
        this.PROJECT_NAME = "users";
    }
    
    init() {
        this.render();
    }
    
    render() {
        this.layout();
        this.createFilterBar();
        this.ls();
    }
}
                    </div>
                </div>
            </div>

            <div class="highlight">
                <h4><span class="emoji">üîÑ</span>Flujo de Datos</h4>
                <ol>
                    <li><strong>Usuario</strong> interact√∫a con la <strong>Vista</strong></li>
                    <li><strong>Vista</strong> env√≠a solicitud al <strong>Controlador</strong></li>
                    <li><strong>Controlador</strong> procesa y consulta el <strong>Modelo</strong></li>
                    <li><strong>Modelo</strong> interact√∫a con la <strong>Base de Datos</strong></li>
                    <li><strong>Controlador</strong> formatea y env√≠a respuesta a la <strong>Vista</strong></li>
                    <li><strong>Vista</strong> actualiza la interfaz para el <strong>Usuario</strong></li>
                </ol>
            </div>
        </section>

        <section id="estructura" class="section">
            <h2><span class="emoji">üìÅ</span>3. Estructura de Proyecto</h2>
            
            <div class="card">
                <h3>Convenciones de Nomenclatura</h3>
                <div class="code-block" data-lang="Structure">
proyecto/
‚îú‚îÄ‚îÄ index.php                    # Punto de entrada
‚îú‚îÄ‚îÄ [modulo].php                # Vistas adicionales
‚îú‚îÄ‚îÄ ctrl/                       # Controladores
‚îÇ   ‚îú‚îÄ‚îÄ ctrl-[modulo].php      # Formato est√°ndar
‚îÇ   ‚îî‚îÄ‚îÄ _[Modulo].php          # Formato alternativo
‚îú‚îÄ‚îÄ mdl/                       # Modelos
‚îÇ   ‚îî‚îÄ‚îÄ mdl-[modulo].php       # Formato est√°ndar
‚îú‚îÄ‚îÄ js/                        # JavaScript frontend
‚îÇ   ‚îî‚îÄ‚îÄ [modulo].js            # L√≥gica de interfaz
‚îú‚îÄ‚îÄ layout/                    # Plantillas
‚îÇ   ‚îú‚îÄ‚îÄ head.php              # Encabezados
‚îÇ   ‚îî‚îÄ‚îÄ script.php            # Scripts
‚îî‚îÄ‚îÄ src/                       # Recursos
    ‚îú‚îÄ‚îÄ css/                   # Estilos personalizados
    ‚îî‚îÄ‚îÄ js/                    # Scripts auxiliares
                </div>
            </div>

            <div class="steps">
                <h3>Pasos para Crear un Nuevo M√≥dulo</h3>
                
                <div class="step">
                    <h4>Crear el Modelo (MDL)</h4>
                    <p>Define la l√≥gica de datos y operaciones de base de datos</p>
                    <div class="code-block" data-lang="PHP">
<?php
require_once '../../conf/_CRUD.php';
require_once '../../conf/_Utileria.php';

class mdl extends CRUD {
    public $bd;
    public $util;
    
    public function __construct() {
        parent::__construct();
        $this->bd = $this->_bd;
        $this->util = new Utileria();
    }
    
    public function getProducts() {
        return $this->_Select([
            'table' => "{$this->bd}products",
            'values' => 'id, name, price, status'
        ]);
    }
    
    public function createProduct($data) {
        return $this->_Insert([
            'table' => "{$this->bd}products",
            'values' => 'name, price, status',
            'data' => $data
        ]);
    }
}
?>
                    </div>
                </div>
                
                <div class="step">
                    <h4>Crear el Controlador (CTRL)</h4>
                    <p>Implementa la l√≥gica de control y coordinaci√≥n</p>
                    <div class="code-block" data-lang="PHP">
<?php
session_start();
if (empty($_POST['opc'])) exit(0);

require_once '../mdl/mdl-products.php';

class ctrl extends mdl {
    
    public function list() {
        $data = $this->getProducts();
        $rows = [];
        
        foreach($data as $row) {
            $rows[] = [
                $row['id'],
                $row['name'],
                '$' . number_format($row['price'], 2),
                $this->getStatus($row['status']),
                $this->dropdown($row['id'])
            ];
        }
        
        return ['data' => $rows];
    }
    
    public function add() {
        $data = $this->util->sql($_POST);
        $result = $this->createProduct($data);
        
        return [
            'status' => $result ? 200 : 500,
            'message' => $result ? 'Producto creado exitosamente' : 'Error al crear producto'
        ];
    }
    
    private function dropdown($id) {
        return "
            <div class='dropdown'>
                <button class='btn btn-sm btn-outline-secondary dropdown-toggle' data-bs-toggle='dropdown'>
                    Acciones
                </button>
                <ul class='dropdown-menu'>
                    <li><a class='dropdown-item' onclick='app.edit($id)'>Editar</a></li>
                    <li><a class='dropdown-item' onclick='app.delete($id)'>Eliminar</a></li>
                </ul>
            </div>
        ";
    }
}

$obj = new ctrl();
$fn = $_POST['opc'];
$encode = $obj->$fn();
echo json_encode($encode);
?>
                    </div>
                </div>
                
                <div class="step">
                    <h4>Crear la Vista (JS)</h4>
                    <p>Desarrolla la interfaz de usuario y l√≥gica frontend</p>
                    <div class="code-block" data-lang="JavaScript">
let api = 'ctrl/ctrl-products.php';
let app;

$(async () => {
    app = new App(api, 'root');
    app.init();
});

class App extends Template {
    constructor(api, root) {
        super();
        this.api = api;
        this.root = root;
        this.PROJECT_NAME = "products";
    }
    
    init() {
        this.render();
    }
    
    render() {
        this.layout();
        this.createFilterBar();
        this.ls();
    }
    
    layout() {
        this.primaryLayout({
            parent: this.root,
            class: 'flex p-4',
            id: this.PROJECT_NAME
        });
    }
    
    createFilterBar() {
        this.createfilterBar({
            parent: `filterBar${this.PROJECT_NAME}`,
            data: [
                {
                    opc: "btn",
                    class: "col-sm-2",
                    color_btn: "success",
                    id: "btnAdd",
                    text: "Nuevo Producto",
                    fn: `app.add()`
                },
                {
                    opc: "btn",
                    class: "col-sm-2",
                    color_btn: "primary",
                    id: "btnRefresh",
                    text: "Actualizar",
                    fn: `app.ls()`
                }
            ]
        });
    }
    
    ls() {
        this.createTable({
            parent: `table${this.PROJECT_NAME}`,
            id: `dt${this.PROJECT_NAME}`,
            columns: [
                { title: "ID", width: "10%" },
                { title: "Nombre", width: "40%" },
                { title: "Precio", width: "20%" },
                { title: "Estado", width: "15%" },
                { title: "Acciones", width: "15%" }
            ],
            ajax: {
                url: this.api,
                type: 'POST',
                data: { opc: 'list' }
            }
        });
    }
    
    add() {
        this.createModalForm({
            title: "Nuevo Producto",
            size: "lg",
            fields: [
                {
                    opc: "input",
                    id: "name",
                    label: "Nombre del Producto",
                    required: true
                },
                {
                    opc: "input",
                    id: "price",
                    label: "Precio",
                    type: "number",
                    step: "0.01",
                    required: true
                }
            ],
            onSubmit: (formData) => {
                this.useFetch({
                    opc: 'add',
                    ...formData
                }).then(response => {
                    if (response.status === 200) {
                        this.swalSuccess(response.message);
                        this.ls();
                    } else {
                        this.swalError(response.message);
                    }
                });
            }
        });
    }
}
                    </div>
                </div>
                
                <div class="step">
                    <h4>Crear la Vista Principal (PHP)</h4>
                    <p>Define la estructura HTML base del m√≥dulo</p>
                    <div class="code-block" data-lang="PHP">
<!DOCTYPE html>
<html lang="es">
<head>
    <?php include 'layout/head.php'; ?>
    <title>Gesti√≥n de Productos - CoffeeSoft</title>
</head>
<body>
    <div id="root"></div>
    
    <?php include 'layout/script.php'; ?>
    <script src="js/products.js"></script>
</body>
</html>
                    </div>
                </div>
            </div>
        </section>

        <section id="frontend" class="section">
            <h2><span class="emoji">üíª</span>4. Desarrollo Frontend (JavaScript)</h2>
            
            <div class="card">
                <h3>Clase Base Template</h3>
                <p>Todas las aplicaciones frontend deben extender la clase <code>Template</code> que proporciona m√©todos para crear componentes UI.</p>
                
                <div class="code-block" data-lang="JavaScript">
class App extends Template {
    constructor(api, root) {
        super();
        this.api = api;              // URL del controlador
        this.root = root;            // ID del contenedor principal
        this.PROJECT_NAME = "app";   // Nombre √∫nico del proyecto
    }
}
                </div>
            </div>

            <div class="grid">
                <div class="card">
                    <h4><span class="emoji">üé®</span>M√©todos de Layout</h4>
                    <div class="code-block" data-lang="JavaScript">
// Layout principal
this.primaryLayout({
    parent: 'root',
    class: 'container-fluid p-4',
    id: this.PROJECT_NAME
});

// Barra de filtros
this.createfilterBar({
    parent: `filterBar${this.PROJECT_NAME}`,
    data: [
        {
            opc: "input",
            id: "search",
            placeholder: "Buscar...",
            class: "col-md-4"
        },
        {
            opc: "btn",
            text: "Buscar",
            color_btn: "primary",
            fn: "app.search()"
        }
    ]
});
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üìä</span>Tablas de Datos</h4>
                    <div class="code-block" data-lang="JavaScript">
this.createTable({
    parent: `table${this.PROJECT_NAME}`,
    id: `dt${this.PROJECT_NAME}`,
    columns: [
        { title: "ID", width: "10%" },
        { title: "Nombre", width: "50%" },
        { title: "Acciones", width: "40%" }
    ],
    ajax: {
        url: this.api,
        type: 'POST',
        data: { opc: 'list' }
    },
    responsive: true,
    pageLength: 25
});
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üìù</span>Formularios Modales</h4>
                    <div class="code-block" data-lang="JavaScript">
this.createModalForm({
    title: "Nuevo Registro",
    size: "lg",
    fields: [
        {
            opc: "input",
            id: "name",
            label: "Nombre",
            required: true,
            validation: "text"
        },
        {
            opc: "select",
            id: "category",
            label: "Categor√≠a",
            options: [
                { value: "1", text: "Categor√≠a 1" },
                { value: "2", text: "Categor√≠a 2" }
            ]
        },
        {
            opc: "textarea",
            id: "description",
            label: "Descripci√≥n",
            rows: 4
        }
    ],
    onSubmit: (formData) => {
        this.useFetch({
            opc: 'add',
            ...formData
        }).then(response => {
            this.handleResponse(response);
        });
    }
});
                    </div>
                </div>
            </div>

            <div class="warning">
                <h4><span class="emoji">‚ö†Ô∏è</span>Comunicaci√≥n con el Backend</h4>
                <p>Utiliza el m√©todo <code>useFetch()</code> para todas las comunicaciones AJAX:</p>
                <div class="code-block" data-lang="JavaScript">
// M√©todo est√°ndar para comunicaci√≥n AJAX
async fetchData(params) {
    try {
        const response = await this.useFetch(params);
        return response;
    } catch (error) {
        this.swalError('Error de comunicaci√≥n');
        console.error(error);
    }
}

// Ejemplo de uso
const result = await this.fetchData({
    opc: 'get',
    id: userId
});
                </div>
            </div>
        </section>

        <section id="backend" class="section">
            <h2><span class="emoji">‚öôÔ∏è</span>5. Desarrollo Backend (PHP)</h2>
            
            <div class="card">
                <h3>Estructura del Controlador</h3>
                <p>Los controladores manejan las solicitudes HTTP y coordinan las operaciones entre el modelo y la vista.</p>
                
                <div class="code-block" data-lang="PHP">
<?php
session_start();
if (empty($_POST['opc'])) exit(0);

require_once '../mdl/mdl-example.php';

class ctrl extends mdl {
    
    // Inicializaci√≥n de datos para formularios
    public function init() {
        return [
            'categories' => $this->getCategories(),
            'statuses' => $this->getStatuses()
        ];
    }
    
    // Listar registros
    public function list() {
        $fi = $_POST['fi'] ?? null;
        $ff = $_POST['ff'] ?? null;
        
        $data = $this->getRecords($fi, $ff);
        $rows = [];
        
        foreach($data as $row) {
            $rows[] = [
                $row['id'],
                $row['name'],
                $this->formatDate($row['created_at']),
                $this->getStatusBadge($row['status']),
                $this->dropdown($row['id'])
            ];
        }
        
        return ['data' => $rows];
    }
    
    // Obtener registro espec√≠fico
    public function get() {
        $id = $_POST['id'];
        $data = $this->getRecordById($id);
        
        return [
            'status' => $data ? 200 : 404,
            'message' => $data ? 'Registro encontrado' : 'Registro no encontrado',
            'data' => $data
        ];
    }
    
    // Crear nuevo registro
    public function add() {
        $data = $this->util->sql($_POST);
        
        // Validar datos √∫nicos
        if ($this->recordExists($data['name'])) {
            return [
                'status' => 400,
                'message' => 'Ya existe un registro con ese nombre'
            ];
        }
        
        $result = $this->createRecord($data);
        
        return [
            'status' => $result ? 200 : 500,
            'message' => $result ? 'Registro creado exitosamente' : 'Error al crear registro'
        ];
    }
    
    // Actualizar registro
    public function edit() {
        $data = $this->util->sql($_POST);
        $id = $data['id'];
        
        $result = $this->updateRecord($id, $data);
        
        return [
            'status' => $result ? 200 : 500,
            'message' => $result ? 'Registro actualizado exitosamente' : 'Error al actualizar registro'
        ];
    }
    
    // Eliminar/Cancelar registro
    public function cancel() {
        $id = $_POST['id'];
        $result = $this->deleteRecord($id);
        
        return [
            'status' => $result ? 200 : 500,
            'message' => $result ? 'Registro eliminado exitosamente' : 'Error al eliminar registro'
        ];
    }
    
    // Generar dropdown de acciones
    private function dropdown($id) {
        return "
            <div class='dropdown'>
                <button class='btn btn-sm btn-outline-secondary dropdown-toggle' data-bs-toggle='dropdown'>
                    <i class='fas fa-cog'></i>
                </button>
                <ul class='dropdown-menu'>
                    <li><a class='dropdown-item' onclick='app.edit($id)'><i class='fas fa-edit'></i> Editar</a></li>
                    <li><a class='dropdown-item' onclick='app.cancel($id)'><i class='fas fa-trash'></i> Eliminar</a></li>
                </ul>
            </div>
        ";
    }
}

$obj = new ctrl();
$fn = $_POST['opc'];
$encode = $obj->$fn();
echo json_encode($encode);
?>
                </div>
            </div>

            <div class="card">
                <h3>Estructura del Modelo</h3>
                <p>Los modelos extienden la clase CRUD y manejan todas las operaciones de base de datos.</p>
                
                <div class="code-block" data-lang="PHP">
<?php
require_once '../../conf/_CRUD.php';
require_once '../../conf/_Utileria.php';

class mdl extends CRUD {
    public $bd;
    public $util;
    
    public function __construct() {
        parent::__construct();
        $this->bd = $this->_bd;
        $this->util = new Utileria();
    }
    
    // Obtener todos los registros
    public function getRecords($fi = null, $ff = null) {
        $where = "status = 'active'";
        $data = [];
        
        if ($fi && $ff) {
            $where .= " AND DATE(created_at) BETWEEN ? AND ?";
            $data = [$fi, $ff];
        }
        
        return $this->_Select([
            'table' => "{$this->bd}records",
            'values' => 'id, name, description, status, created_at',
            'where' => $where,
            'order' => ['DESC' => 'created_at'],
            'data' => $data
        ]);
    }
    
    // Obtener registro por ID
    public function getRecordById($id) {
        $result = $this->_Select([
            'table' => "{$this->bd}records",
            'values' => '*',
            'where' => 'id = ?',
            'data' => [$id]
        ]);
        
        return $result ? $result[0] : null;
    }
    
    // Crear nuevo registro
    public function createRecord($data) {
        return $this->_Insert([
            'table' => "{$this->bd}records",
            'values' => 'name, description, status, created_at',
            'data' => [
                $data['name'],
                $data['description'],
                'active',
                date('Y-m-d H:i:s')
            ]
        ]);
    }
    
    // Actualizar registro
    public function updateRecord($id, $data) {
        return $this->_Update([
            'table' => "{$this->bd}records",
            'values' => 'name = ?, description = ?, updated_at = ?',
            'where' => 'id = ?',
            'data' => [
                $data['name'],
                $data['description'],
                date('Y-m-d H:i:s'),
                $id
            ]
        ]);
    }
    
    // Eliminar registro (soft delete)
    public function deleteRecord($id) {
        return $this->_Update([
            'table' => "{$this->bd}records",
            'values' => 'status = ?, deleted_at = ?',
            'where' => 'id = ?',
            'data' => ['deleted', date('Y-m-d H:i:s'), $id]
        ]);
    }
    
    // Verificar si existe registro
    public function recordExists($name, $excludeId = null) {
        $where = "name = ? AND status != 'deleted'";
        $data = [$name];
        
        if ($excludeId) {
            $where .= " AND id != ?";
            $data[] = $excludeId;
        }
        
        $result = $this->_Select([
            'table' => "{$this->bd}records",
            'values' => 'COUNT(*) as count',
            'where' => $where,
            'data' => $data
        ]);
        
        return $result[0]['count'] > 0;
    }
    
    // Obtener listas para selects
    public function getCategories() {
        return $this->_Select([
            'table' => "{$this->bd}categories",
            'values' => 'id, name',
            'where' => "status = 'active'",
            'order' => ['ASC' => 'name']
        ]);
    }
}
?>
                </div>
            </div>
        </section>

        <section id="componentes" class="section">
            <h2><span class="emoji">üß©</span>6. Componentes Disponibles</h2>
            
            <div class="grid">
                <div class="card">
                    <h4><span class="emoji">üìù</span>Formularios</h4>
                    <div class="code-block" data-lang="JavaScript">
// Formulario modal b√°sico
this.createModalForm({
    title: "T√≠tulo del Formulario",
    size: "lg", // sm, md, lg, xl
    fields: [
        {
            opc: "input",
            id: "field1",
            label: "Campo de Texto",
            type: "text",
            required: true,
            validation: "text"
        },
        {
            opc: "select",
            id: "field2",
            label: "Lista Desplegable",
            options: data.categories
        },
        {
            opc: "textarea",
            id: "field3",
            label: "√Årea de Texto",
            rows: 4
        },
        {
            opc: "checkbox",
            id: "field4",
            label: "Casilla de Verificaci√≥n"
        },
        {
            opc: "radio",
            id: "field5",
            label: "Botones de Radio",
            options: [
                { value: "1", text: "Opci√≥n 1" },
                { value: "2", text: "Opci√≥n 2" }
            ]
        }
    ],
    onSubmit: (formData) => {
        // L√≥gica de env√≠o
    }
});
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üìä</span>Tablas</h4>
                    <div class="code-block" data-lang="JavaScript">
// Tabla con DataTables
this.createTable({
    parent: "tableContainer",
    id: "dataTable",
    columns: [
        { title: "ID", width: "10%" },
        { title: "Nombre", width: "40%" },
        { title: "Estado", width: "25%" },
        { title: "Acciones", width: "25%" }
    ],
    ajax: {
        url: this.api,
        type: 'POST',
        data: { opc: 'list' }
    },
    responsive: true,
    pageLength: 25,
    order: [[0, 'desc']],
    columnDefs: [
        {
            targets: -1,
            orderable: false,
            searchable: false
        }
    ]
});
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üîî</span>Notificaciones</h4>
                    <div class="code-block" data-lang="JavaScript">
// SweetAlert2 integrado
this.swalSuccess("Operaci√≥n exitosa");
this.swalError("Error en la operaci√≥n");
this.swalWarning("Advertencia");
this.swalInfo("Informaci√≥n");

// Confirmaci√≥n
this.swalQuestion({
    title: "¬øEst√°s seguro?",
    text: "Esta acci√≥n no se puede deshacer",
    onConfirm: () => {
        // L√≥gica de confirmaci√≥n
    }
});

// Toast notifications
this.showToast({
    type: 'success',
    message: 'Guardado correctamente',
    position: 'top-end'
});
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üìÖ</span>Selectores de Fecha</h4>
                    <div class="code-block" data-lang="JavaScript">
// DatePicker simple
dataPicker({
    parent: "dateContainer",
    format: "YYYY-MM-DD",
    onSelect: (date) => {
        console.log('Fecha seleccionada:', date);
    }
});

// DateRangePicker
dateRangePicker({
    parent: "dateRangeContainer",
    startDate: moment().subtract(30, 'days'),
    endDate: moment(),
    onApply: (start, end) => {
        this.filterByDateRange(start, end);
    }
});
                    </div>
                </div>
            </div>
        </section>

        <section id="crud" class="section">
            <h2><span class="emoji">üìä</span>7. Operaciones CRUD</h2>
            
            <div class="info">
                <h3>M√©todos CRUD Heredados</h3>
                <p>La clase CRUD proporciona m√©todos estandarizados para todas las operaciones de base de datos:</p>
            </div>

            <div class="grid">
                <div class="card">
                    <h4><span class="emoji">üìñ</span>_Select (Consultar)</h4>
                    <div class="code-block" data-lang="PHP">
// Consulta b√°sica
$result = $this->_Select([
    'table' => "{$this->bd}users",
    'values' => 'id, name, email'
]);

// Consulta con condiciones
$result = $this->_Select([
    'table' => "{$this->bd}users",
    'values' => 'id, name, email, status',
    'where' => 'status = ? AND role = ?',
    'data' => ['active', 'admin'],
    'order' => ['ASC' => 'name'],
    'limit' => 10
]);

// Consulta con JOIN
$result = $this->_Select([
    'table' => "{$this->bd}users u",
    'values' => 'u.id, u.name, r.name as role_name',
    'join' => "LEFT JOIN {$this->bd}roles r ON u.role_id = r.id",
    'where' => 'u.status = ?',
    'data' => ['active']
]);
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">‚ûï</span>_Insert (Crear)</h4>
                    <div class="code-block" data-lang="PHP">
// Inserci√≥n simple
$result = $this->_Insert([
    'table' => "{$this->bd}users",
    'values' => 'name, email, password, created_at',
    'data' => [
        $data['name'],
        $data['email'],
        password_hash($data['password'], PASSWORD_DEFAULT),
        date('Y-m-d H:i:s')
    ]
]);

// Inserci√≥n m√∫ltiple
$result = $this->_Insert([
    'table' => "{$this->bd}products",
    'values' => 'name, price, category_id',
    'data' => [
        ['Producto 1', 100.00, 1],
        ['Producto 2', 150.00, 2],
        ['Producto 3', 200.00, 1]
    ],
    'multiple' => true
]);
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">‚úèÔ∏è</span>_Update (Actualizar)</h4>
                    <div class="code-block" data-lang="PHP">
// Actualizaci√≥n simple
$result = $this->_Update([
    'table' => "{$this->bd}users",
    'values' => 'name = ?, email = ?, updated_at = ?',
    'where' => 'id = ?',
    'data' => [
        $data['name'],
        $data['email'],
        date('Y-m-d H:i:s'),
        $data['id']
    ]
]);

// Actualizaci√≥n condicional
$result = $this->_Update([
    'table' => "{$this->bd}orders",
    'values' => 'status = ?, updated_at = ?',
    'where' => 'user_id = ? AND status = ?',
    'data' => [
        'completed',
        date('Y-m-d H:i:s'),
        $userId,
        'pending'
    ]
]);
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üóëÔ∏è</span>_Delete (Eliminar)</h4>
                    <div class="code-block" data-lang="PHP">
// Eliminaci√≥n f√≠sica
$result = $this->_Delete([
    'table' => "{$this->bd}temp_data",
    'where' => 'created_at < ?',
    'data' => [date('Y-m-d', strtotime('-30 days'))]
]);

// Soft Delete (recomendado)
$result = $this->_Update([
    'table' => "{$this->bd}users",
    'values' => 'status = ?, deleted_at = ?',
    'where' => 'id = ?',
    'data' => ['deleted', date('Y-m-d H:i:s'), $id]
]);
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üîç</span>_Read (SQL Personalizado)</h4>
                    <div class="code-block" data-lang="PHP">
// Consulta SQL personalizada
$query = "
    SELECT 
        u.id,
        u.name,
        COUNT(o.id) as total_orders,
        SUM(o.total) as total_spent
    FROM {$this->bd}users u
    LEFT JOIN {$this->bd}orders o ON u.id = o.user_id
    WHERE u.status = ? AND u.created_at >= ?
    GROUP BY u.id
    HAVING total_orders > ?
    ORDER BY total_spent DESC
    LIMIT 10
";

$result = $this->_Read($query, [
    'active',
    '2024-01-01',
    5
]);

// Procedimientos almacenados
$result = $this->_Read(
    "CALL sp_generate_report(?, ?, ?)",
    [$startDate, $endDate, $reportType]
);
                    </div>
                </div>
            </div>
        </section>

        <section id="mejores-practicas" class="section">
            <h2><span class="emoji">‚ú®</span>8. Mejores Pr√°cticas</h2>
            
            <div class="grid">
                <div class="card">
                    <h4><span class="emoji">üîí</span>Seguridad</h4>
                    <ul>
                        <li><strong>Validaci√≥n de entrada:</strong> Siempre validar y sanitizar datos de entrada</li>
                        <li><strong>Prepared Statements:</strong> Usar consultas preparadas para prevenir SQL injection</li>
                        <li><strong>Autenticaci√≥n:</strong> Verificar sesiones y permisos en cada controlador</li>
                        <li><strong>Escape de salida:</strong> Escapar datos antes de mostrarlos en HTML</li>
                    </ul>
                    <div class="code-block" data-lang="PHP">
// Validaci√≥n de entrada
$data = $this->util->sql($_POST);
if (empty($data['name']) || strlen($data['name']) < 3) {
    return ['status' => 400, 'message' => 'Nombre inv√°lido'];
}

// Verificaci√≥n de sesi√≥n
if (!isset($_SESSION['user_id'])) {
    return ['status' => 401, 'message' => 'No autorizado'];
}

// Escape de salida
echo htmlspecialchars($data['name'], ENT_QUOTES, 'UTF-8');
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üéØ</span>Rendimiento</h4>
                    <ul>
                        <li><strong>√çndices de BD:</strong> Crear √≠ndices apropiados en columnas frecuentemente consultadas</li>
                        <li><strong>Paginaci√≥n:</strong> Implementar paginaci√≥n en listados grandes</li>
                        <li><strong>Cache:</strong> Usar cache para datos que no cambian frecuentemente</li>
                        <li><strong>Consultas optimizadas:</strong> Evitar consultas N+1 y SELECT *</li>
                    </ul>
                    <div class="code-block" data-lang="JavaScript">
// Paginaci√≥n en DataTables
this.createTable({
    pageLength: 25,
    lengthMenu: [[10, 25, 50, 100], [10, 25, 50, 100]],
    processing: true,
    serverSide: true, // Para datasets grandes
    ajax: {
        url: this.api,
        type: 'POST',
        data: function(d) {
            return {
                opc: 'list',
                start: d.start,
                length: d.length,
                search: d.search.value
            };
        }
    }
});
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üìù</span>C√≥digo Limpio</h4>
                    <ul>
                        <li><strong>Nomenclatura:</strong> Usar nombres descriptivos y consistentes</li>
                        <li><strong>Funciones peque√±as:</strong> Mantener funciones con una sola responsabilidad</li>
                        <li><strong>Comentarios:</strong> Documentar l√≥gica compleja</li>
                        <li><strong>Reutilizaci√≥n:</strong> Crear funciones auxiliares para c√≥digo repetitivo</li>
                    </ul>
                    <div class="code-block" data-lang="PHP">
// Funci√≥n auxiliar reutilizable
private function formatUserData($user) {
    return [
        'id' => $user['id'],
        'name' => ucwords(strtolower($user['name'])),
        'email' => strtolower($user['email']),
        'status_badge' => $this->getStatusBadge($user['status']),
        'created_formatted' => $this->formatDate($user['created_at'])
    ];
}

// Validaci√≥n centralizada
private function validateUserData($data) {
    $errors = [];
    
    if (empty($data['name']) || strlen($data['name']) < 2) {
        $errors[] = 'El nombre debe tener al menos 2 caracteres';
    }
    
    if (!filter_var($data['email'], FILTER_VALIDATE_EMAIL)) {
        $errors[] = 'Email inv√°lido';
    }
    
    return $errors;
}
                    </div>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üîÑ</span>Manejo de Errores</h4>
                    <ul>
                        <li><strong>Try-Catch:</strong> Capturar y manejar excepciones apropiadamente</li>
                        <li><strong>Logs:</strong> Registrar errores para debugging</li>
                        <li><strong>Respuestas consistentes:</strong> Formato est√°ndar para respuestas de error</li>
                        <li><strong>Rollback:</strong> Revertir transacciones en caso de error</li>
                    </ul>
                    <div class="code-block" data-lang="PHP">
// Manejo de errores con transacciones
public function processOrder($orderData) {
    try {
        $this->_bd->beginTransaction();
        
        $orderId = $this->createOrder($orderData);
        $this->updateInventory($orderData['items']);
        $this->sendNotification($orderId);
        
        $this->_bd->commit();
        return ['status' => 200, 'message' => 'Pedido procesado'];
        
    } catch (Exception $e) {
        $this->_bd->rollback();
        error_log('Error procesando pedido: ' . $e->getMessage());
        return ['status' => 500, 'message' => 'Error interno'];
    }
}
                    </div>
                </div>
            </div>
        </section>

        <section id="ejemplos" class="section">
            <h2><span class="emoji">üìù</span>9. Ejemplos Pr√°cticos</h2>
            
            <div class="card">
                <h3>Ejemplo Completo: Sistema de Productos</h3>
                <p>A continuaci√≥n se muestra un ejemplo completo de implementaci√≥n de un m√≥dulo de productos siguiendo las convenciones de CoffeeSoft.</p>
            </div>

            <div class="steps">
                <div class="step">
                    <h4>Modelo (mdl-products.php)</h4>
                    <div class="code-block" data-lang="PHP">
<?php
require_once '../../conf/_CRUD.php';
require_once '../../conf/_Utileria.php';

class mdl extends CRUD {
    public $bd;
    public $util;
    
    public function __construct() {
        parent::__construct();
        $this->bd = $this->_bd;
        $this->util = new Utileria();
    }
    
    public function getProducts($fi = null, $ff = null, $category = null) {
        $where = "p.status != 'deleted'";
        $data = [];
        
        if ($fi && $ff) {
            $where .= " AND DATE(p.created_at) BETWEEN ? AND ?";
            $data[] = $fi;
            $data[] = $ff;
        }
        
        if ($category) {
            $where .= " AND p.category_id = ?";
            $data[] = $category;
        }
        
        return $this->_Select([
            'table' => "{$this->bd}products p",
            'values' => 'p.id, p.name, p.description, p.price, p.stock, p.status, c.name as category_name, p.created_at',
            'join' => "LEFT JOIN {$this->bd}categories c ON p.category_id = c.id",
            'where' => $where,
            'order' => ['DESC' => 'p.created_at'],
            'data' => $data
        ]);
    }
    
    public function getProductById($id) {
        $result = $this->_Select([
            'table' => "{$this->bd}products",
            'values' => '*',
            'where' => 'id = ? AND status != "deleted"',
            'data' => [$id]
        ]);
        
        return $result ? $result[0] : null;
    }
    
    public function createProduct($data) {
        return $this->_Insert([
            'table' => "{$this->bd}products",
            'values' => 'name, description, price, stock, category_id, status, created_at',
            'data' => [
                $data['name'],
                $data['description'],
                $data['price'],
                $data['stock'],
                $data['category_id'],
                'active',
                date('Y-m-d H:i:s')
            ]
        ]);
    }
    
    public function updateProduct($id, $data) {
        return $this->_Update([
            'table' => "{$this->bd}products",
            'values' => 'name = ?, description = ?, price = ?, stock = ?, category_id = ?, updated_at = ?',
            'where' => 'id = ?',
            'data' => [
                $data['name'],
                $data['description'],
                $data['price'],
                $data['stock'],
                $data['category_id'],
                date('Y-m-d H:i:s'),
                $id
            ]
        ]);
    }
    
    public function deleteProduct($id) {
        return $this->_Update([
            'table' => "{$this->bd}products",
            'values' => 'status = "deleted", deleted_at = ?',
            'where' => 'id = ?',
            'data' => [date('Y-m-d H:i:s'), $id]
        ]);
    }
    
    public function getCategories() {
        return $this->_Select([
            'table' => "{$this->bd}categories",
            'values' => 'id, name',
            'where' => 'status = "active"',
            'order' => ['ASC' => 'name']
        ]);
    }
    
    public function productExists($name, $excludeId = null) {
        $where = "name = ? AND status != 'deleted'";
        $data = [$name];
        
        if ($excludeId) {
            $where .= " AND id != ?";
            $data[] = $excludeId;
        }
        
        $result = $this->_Select([
            'table' => "{$this->bd}products",
            'values' => 'COUNT(*) as count',
            'where' => $where,
            'data' => $data
        ]);
        
        return $result[0]['count'] > 0;
    }
}
?>
                    </div>
                </div>
            </div>
        </section>

        <section id="troubleshooting" class="section">
            <h2><span class="emoji">üîß</span>10. Soluci√≥n de Problemas</h2>
            
            <div class="grid">
                <div class="card">
                    <h4><span class="emoji">‚ùå</span>Errores Comunes</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Error</th>
                                <th>Causa</th>
                                <th>Soluci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Class 'CRUD' not found</td>
                                <td>Ruta incorrecta a _CRUD.php</td>
                                <td>Verificar require_once '../../conf/_CRUD.php'</td>
                            </tr>
                            <tr>
                                <td>Undefined variable: $bd</td>
                                <td>No se inicializ√≥ la propiedad $bd</td>
                                <td>Agregar $this->bd = $this->_bd en constructor</td>
                            </tr>
                            <tr>
                                <td>DataTable no se carga</td>
                                <td>Error en estructura de respuesta</td>
                                <td>Verificar formato ['data' => $rows]</td>
                            </tr>
                            <tr>
                                <td>Modal no se abre</td>
                                <td>Conflicto de IDs o Bootstrap no cargado</td>
                                <td>Verificar IDs √∫nicos y dependencias</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="card">
                    <h4><span class="emoji">üêõ</span>Debugging</h4>
                    <div class="code-block" data-lang="PHP">
// Habilitar errores PHP
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

// Log personalizado
function debugLog($message, $data = null) {
    $log = date('Y-m-d H:i:s') . ' - ' . $message;
    if ($data) {
        $log .= ' - ' . json_encode($data);
    }
    error_log($log . PHP_EOL, 3, 'debug.log');
}

// Uso en controlador
debugLog('Datos recibidos', $_POST);
$result = $this->createRecord($data);
debugLog('Resultado inserci√≥n', $result);
                    </div>
                </div>
            </div>
            
            <div class="warning">
                <h4><span class="emoji">‚ö†Ô∏è</span>Checklist de Verificaci√≥n</h4>
                <ul>
                    <li>‚úÖ Verificar que todas las rutas de archivos sean correctas</li>
                    <li>‚úÖ Confirmar que la base de datos est√© configurada</li>
                    <li>‚úÖ Validar que las sesiones est√©n iniciadas</li>
                    <li>‚úÖ Comprobar permisos de archivos y carpetas</li>
                    <li>‚úÖ Revisar que jQuery y Bootstrap est√©n cargados</li>
                    <li>‚úÖ Verificar la consola del navegador para errores JS</li>
                    <li>‚úÖ Confirmar que los nombres de m√©todos coincidan</li>
                    <li>‚úÖ Validar estructura de respuestas JSON</li>
                </ul>
            </div>
        </section>

        <div class="card" style="text-align: center; margin-top: 50px; background: linear-gradient(135deg, #6B4E3D, #8B6F47); color: white;">
            <h3><span class="emoji">‚òï</span>¬°Gracias por usar CoffeeSoft!</h3>
            <p>Este manual te ayudar√° a desarrollar aplicaciones robustas y escalables con nuestro framework.</p>
            <p><strong>Versi√≥n:</strong> 2.0 | <strong>√öltima actualizaci√≥n:</strong> Diciembre 2024</p>
        </div>
    </div>

    <script>
        // Smooth scrolling para navegaci√≥n
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Highlight c√≥digo al hacer clic
        document.querySelectorAll('.code-block').forEach(block => {
            block.addEventListener('click', function() {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(this.textContent);
                    
                    // Feedback visual
                    const original = this.style.background;
                    this.style.background = '#4a5568';
                    setTimeout(() => {
                        this.style.background = original;
                    }, 200);
                }
            });
        });
    </script>
</body>
</html>